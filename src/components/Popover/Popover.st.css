:import {
    -st-from: "../../common/formatters.st";
    -st-named: color, applyOpacity, fallback, font;
}

:import {
    -st-from: "../Text/Text.st.css";
    -st-default: TPAText;
}

:import {
    -st-from: "../IconButton/IconButton.st.css";
    -st-default: TPAIconButton
}

/*Defaults*/
:vars {
    DefaultBackgroundColor: color-1;
    DefaultBorderColor: #fff;
    DefaultRadius: 2px;
    DefaultIconColor: color-5;
    DefaultPadding: 16px;
    DefaultIconPadding: 12px;
    DefaultTitleColor: color-5;
    DefaultTitleFont: "{theme: 'Body-M', size: '16px', lineHeight: '24px'}";
    DefaultWidth: 252px;
}

/*Overrides*/
:vars {
    BorderColor: --overridable;
    Radius: --overridable;
    IconColor: --overridable;
    TopPadding: --overridable;
    RightPadding: --overridable;
    BottomPadding: --overridable;
    LeftPadding: --overridable;
    IconTopPadding: --overridable;
    IconRightPadding: --overridable;
    IconLeftPadding: --overridable;
    BackgroundColor: --overridable;
    TitleColor: --overridable;
    TitleFont: --overridable;
    Width: --overridable;
}

/*Fallbacks*/
:vars {
    CurrentBorderColor: color(fallback(value(BorderColor), value(DefaultBorderColor)));
    CurrentRadius: fallback(value(Radius), value(DefaultRadius));
    CurrentIconColor: color(fallback(value(IconColor), value(DefaultIconColor)));
    CurrentTopPadding: fallback(value(TopPadding), value(DefaultPadding));
    CurrentRightPadding: fallback(value(RightPadding), value(DefaultPadding));
    CurrentBottomPadding: fallback(value(BottomPadding), value(DefaultPadding));
    CurrentLeftPadding: fallback(value(LeftPadding), value(DefaultPadding));
    CurrentIconTopPadding: fallback(value(IconTopPadding), value(DefaultIconPadding));
    CurrentIconRightPadding: fallback(value(IconRightPadding), value(DefaultIconPadding));
    CurrentIconLeftPadding: fallback(value(IconLeftPadding), value(DefaultIconPadding));
    CurrentBackgroundColor: color(fallback(value(BackgroundColor), value(DefaultBackgroundColor)));
    CurrentTitleColor: color(fallback(value(TitleColor), value(DefaultTitleColor)));
    CurrentTitleFont: fallback(value(TitleFont), font(value(DefaultTitleFont)));
    CurrentWidth: fallback(value(Width), value(DefaultWidth));
}

.root {
    -st-states: rtl;
    box-sizing: border-box;
    padding-top: value(CurrentTopPadding);
    padding-right: value(CurrentRightPadding);
    padding-bottom: value(CurrentBottomPadding);
    padding-left: value(CurrentLeftPadding);
    box-shadow: 0 0 25px 10px rgba(80, 80, 80, 0.1), 0 4px 50px 0 rgba(209, 209, 209, 0.1);
    border-radius: value(CurrentRadius);
    border: 1px solid applyOpacity(value(CurrentBorderColor), 0.2);
    position: relative;
    min-height: 224px;
    max-height: 364px;
    width: value(CurrentWidth);
    background-color: value(CurrentBackgroundColor);
}

.title {
    -st-mixin: TPAText(
        MainTextFont value(CurrentTitleFont),
        MainTextColor value(CurrentTitleColor)
    );
}

.close {
    position: absolute;
    top: value(CurrentIconTopPadding);
    right: value(CurrentIconRightPadding);
    -st-mixin: TPAIconButton(
        IconColor value(CurrentIconColor)
    );
}

.root:rtl .close {
    left: value(CurrentIconLeftPadding);
}

.root:rtl {
    text-align: right;
}

.root:rtl .container {
    float: right;
}

.children {
    margin-top: 16px;
}
