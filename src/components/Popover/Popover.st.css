:import {
    -st-from: "../../common/formatters.st";
    -st-named: color, applyOpacity, fallback;
}

:import {
    -st-from: "../IconButton/IconButton.st.css";
    -st-default: TPAIconButton
}

/*Defaults*/
:vars {
    DefaultBorderColor: #fff;
    DefaultRadius: 2px;
    DefaultIconColor: gray;
    DefaultPadding: 24px;
    DefaultIconPadding: 16px;
}

/*Overrides*/
:vars {
    BorderColor: --overridable;
    Radius: --overridable;
    IconColor: --overridable;
    TopPadding: --overridable;
    RightPadding: --overridable;
    BottomPadding: --overridable;
    LeftPadding: --overridable;
    IconTopPadding: --overridable;
    IconRightPadding: --overridable;
    IconLeftPadding: --overridable;
}

/*Fallbacks*/
:vars {
    CurrentBorderColor: color(fallback(value(BorderColor), value(DefaultBorderColor)));
    CurrentRadius: fallback(value(Radius), value(DefaultRadius));
    CurrentIconColor: color(fallback(value(IconColor), value(DefaultIconColor)));
    CurrentTopPadding: fallback(value(TopPadding), value(DefaultPadding));
    CurrentRightPadding: fallback(value(RightPadding), value(DefaultPadding));
    CurrentBottomPadding: fallback(value(BottomPadding), value(DefaultPadding));
    CurrentLeftPadding: fallback(value(LeftPadding), value(DefaultPadding));
    CurrentIconTopPadding: fallback(value(IconTopPadding), value(DefaultIconPadding));
    CurrentIconRightPadding: fallback(value(IconRightPadding), value(DefaultIconPadding));
    CurrentIconLeftPadding: fallback(value(IconLeftPadding), value(DefaultIconPadding));
}

.root {
    -st-states: rightToLeft;
    width: 400px;
    box-sizing: border-box;
    padding-top: value(CurrentTopPadding);
    padding-right: value(CurrentRightPadding);
    padding-bottom: value(CurrentBottomPadding);
    padding-left: value(CurrentLeftPadding);
    box-shadow: 0 0 25px 10px rgba(80, 80, 80, 0.1), 0 4px 50px 0 rgba(209, 209, 209, 0.1);
    border-radius: value(CurrentRadius);
    border: 1px solid applyOpacity(value(CurrentBorderColor), 0.2);
    position: relative;
    min-height: 260px;
    max-height: 460px;
}

.close {
    position: absolute;
    top: value(CurrentIconTopPadding);
    right: value(CurrentIconRightPadding);
    -st-mixin: TPAIconButton(
        IconColor value(CurrentIconColor)
    );
}

.root:rightToLeft .close {
    left: value(CurrentIconLeftPadding);
}
